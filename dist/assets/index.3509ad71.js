import{o as d,c as u,a as t,w as _,v as m,n as p,b as V,t as c,d as g,F as P,r as x,e as F,p as R,f as S,g as y,h as B,i as L}from"./vendor.0b1a22e7.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};M();class b{constructor(e,n,r){this.presentValue=e,this.interestedRate=n,this.periods=r,this.amortization=0,this.provisionFinancing=[]}formatarDados(){this.presentValue=parseInt(this.presentValue),this.interestedRate=parseFloat(this.interestedRate)/100,this.periods=parseInt(this.periods)}calculaAmortizacao(){return this.amortization=this.presentValue/this.periods,this.amortization}formataMascara(e,n){let r={minimumFractionDigits:2,style:"currency",currency:e};return n.toLocaleString("pt-BR",r)}financiarPrice(){let e=this.presentValue*(Math.pow(1+this.interestedRate,this.periods)*this.interestedRate)/(Math.pow(1+this.interestedRate,this.periods)-1);this.provisionFinancing.push(e);const n=this.formataMascara("BRL",this.provisionFinancing[0]),r=e*this.periods,s=r-this.presentValue;return{valorPrestacao:n,valorTotalFinanciamento:this.formataMascara("BRL",r),valorTotalJuros:this.formataMascara("BRL",s)}}financiarSac(){this.calculaAmortizacao();let e=0,n=0,r=this.presentValue,s=[];for(let h=1;h<=this.periods;h++){const v=(this.periods-h+1)*this.amortization*this.interestedRate,f=this.amortization+v;r-=this.amortization,e+=f,n+=v,s.push({index:h,amortization:this.formataMascara("BRL",this.amortization),interestRateBalance:this.formataMascara("BRL",v),portion:this.formataMascara("BRL",f),valuePaid:this.formataMascara("BRL",e),balance:this.formataMascara("BRL",r)})}const i=this.formataMascara("BRL",e),a=this.formataMascara("BRL",n);return{prestacoes:s,valorTotalFinanciamento:i,valorTotalJuros:a}}}var z=(l,e)=>{const n=l.__vccOpts||l;for(const[r,s]of e)n[r]=s;return n};const T={data(){return{type:null,taxa:null,totalValue:null,qtdPeriod:null,sac:null,price:null,validators:{}}},methods:{handleSac(){const l=new b(this.totalValue,this.taxa,this.qtdPeriod);l.formatarDados(),this.sac=l.financiarSac()},handlePrice(){const l=new b(this.totalValue,this.taxa,this.qtdPeriod);l.formatarDados(),this.price=l.financiarPrice()},handleFinancing(){!this.validate()||(this.type==="sac"?this.handleSac():this.type==="price"&&this.handlePrice())},validate(){return this.validators={},this.type||(this.validators.type=!0),this.taxa||(this.validators.taxa=!0),this.totalValue||(this.validators.value=!0),this.qtdPeriod||(this.validators.periods=!0),Object.keys(this.validators).length===0},resetValues(){this.sac=null,this.price=null,this.taxa=null,this.totalValue=null,this.qtdPeriod=null},formatValue(l){return`R$ ${l.toFixed(2).replace(".",",")}`}}},o=l=>(R("data-v-49dc1113"),l=l(),S(),l),k={class:"alignment"},q={class:"container"},A=F('<div class="level" data-v-49dc1113><div class="level-left" data-v-49dc1113><h1 class="title is-4" data-v-49dc1113>Simula\xE7\xE3o de Financiamento</h1></div><div class="level-right" data-v-49dc1113><div class="align-icons-external" data-v-49dc1113><a href="https://github.com/matheushsilverio/vue3-sac-calculate" target="_blank" data-v-49dc1113><span class="icon" data-v-49dc1113><i class="fab fa-github" data-v-49dc1113></i></span></a></div></div></div>',1),J={class:"columns is-multiline"},w={class:"column is-full"},C={class:"card"},D=o(()=>t("div",{class:"card-title"},[t("h2",null,"C\xE1lculo do financiamento")],-1)),I={class:"card-body"},N={class:"field"},O=o(()=>t("label",{for:"sac-input-total-value"},"Valor total do financiamento",-1)),j={class:"field"},U=o(()=>t("label",{for:"sac-input-qtd-period"},"Quantidade de per\xEDodos",-1)),E={class:"field"},K=o(()=>t("label",{for:"sac-input-juros"},"Taxa de Juros (%)",-1)),Q={class:"control has-icons-right"},W=o(()=>t("span",{class:"icon is-right"},[t("i",{class:"fas fa-percentage"})],-1)),G={class:"field"},H=o(()=>t("label",{for:""},"Tipo de Simula\xE7\xE3o",-1)),X={class:"control control-select"},Y=o(()=>t("option",{value:"sac"},"SAC",-1)),Z=o(()=>t("option",{value:"price"},"Price",-1)),$=[Y,Z],tt={key:0,class:"column is-full"},st={class:"card"},et={class:"card-title"},at={class:"level"},it=o(()=>t("div",{class:"level-left"},[t("h2",null,"Price")],-1)),ot={class:"level-right"},lt=o(()=>t("span",{class:"icon"},[t("i",{class:"fas fa-times"})],-1)),nt=[lt],rt={class:"card-body"},ct={class:"columns is-multiline"},dt={class:"column is-full"},ut={class:"currency-detail"},ht=o(()=>t("label",null,"Valor da Presta\xE7\xE3o",-1)),_t={class:"column is-full"},pt={class:"currency-detail"},vt=o(()=>t("label",null,"Valor total do Financiamento",-1)),mt={class:"column is-full"},ft={class:"currency-detail"},gt=o(()=>t("label",null,"Valor total de Juros pago",-1)),yt={key:1,class:"column is-full"},bt={class:"card"},Vt={class:"card-title"},Pt={class:"level"},xt=o(()=>t("div",{class:"level-left"},[t("h2",null,"SAC - Sistema de Amortiza\xE7\xF5es Constantes")],-1)),Ft={class:"level-right"},Rt=o(()=>t("span",{class:"icon"},[t("i",{class:"fas fa-times"})],-1)),St=[Rt],Bt={class:"card-body"},Lt={class:"columns is-multiline"},Mt={class:"column is-full"},zt={class:"currency-detail"},Tt=o(()=>t("label",null,"Valor total do Financiamento",-1)),kt={class:"column is-full"},qt={class:"currency-detail"},At=o(()=>t("label",null,"Valor total de Juros pago",-1)),Jt={class:"table"},wt=o(()=>t("thead",null,[t("tr",null,[t("th",null,"Per\xEDodo"),t("th",null,"Amortiza\xE7\xE3o"),t("th",null,"Juros"),t("th",null,"Presta\xE7\xE3o"),t("th",null,"Valor Pago"),t("th",null,"Saldo Devedor")])],-1)),Ct=o(()=>t("tfoot",null,[t("tr",null,[t("th",null,"Per\xEDodo"),t("th",null,"Amortiza\xE7\xE3o"),t("th",null,"Juros"),t("th",null,"Presta\xE7\xE3o"),t("th",null,"Valor Pago"),t("th",null,"Saldo Devedor")])],-1)),Dt=o(()=>t("div",{class:"column is-full"},[t("div",{class:"credits"},[y(" 2021. Desenvolvido por "),t("a",{href:"https://github.com/matheushsilverio"},"@matheushsilverio"),y(" e "),t("a",{href:"https://github.com/vinige"},"@vinige")])],-1));function It(l,e,n,r,s,i){return d(),u("div",k,[t("div",q,[A,t("div",J,[t("div",w,[t("div",C,[D,t("div",I,[t("div",N,[O,_(t("input",{id:"sac-input-total-value","onUpdate:modelValue":e[0]||(e[0]=a=>s.totalValue=a),class:p(["input",{"is-danger":s.validators.value}]),type:"text",placeholder:"ex: 1000"},null,2),[[m,s.totalValue]])]),t("div",j,[U,_(t("input",{id:"sac-input-qtd-period","onUpdate:modelValue":e[1]||(e[1]=a=>s.qtdPeriod=a),class:p(["input",{"is-danger":s.validators.periods}]),type:"number",placeholder:"ex: 12"},null,2),[[m,s.qtdPeriod]])]),t("div",E,[K,t("div",Q,[_(t("input",{id:"sac-input-juros","onUpdate:modelValue":e[2]||(e[2]=a=>s.taxa=a),class:p(["input",{"is-danger":s.validators.taxa}]),type:"number",placeholder:"ex: 2"},null,2),[[m,s.taxa]]),W])]),t("div",G,[H,t("div",X,[t("div",{class:p(["select",{"is-danger":s.validators.type}])},[_(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.type=a)},$,512),[[V,s.type]])],2)])]),t("button",{class:"button is-success is-fullwidth",onClick:e[4]||(e[4]=(...a)=>i.handleFinancing&&i.handleFinancing(...a))}," Simular Financiamento ")])])]),s.price?(d(),u("div",tt,[t("div",st,[t("div",et,[t("div",at,[it,t("div",ot,[t("button",{class:"button is-danger has-right-icon is-small",onClick:e[5]||(e[5]=(...a)=>i.resetValues&&i.resetValues(...a))},nt)])])]),t("div",rt,[t("div",ct,[t("div",dt,[t("div",ut,[ht,t("p",null,c(s.price.valorPrestacao),1)])]),t("div",_t,[t("div",pt,[vt,t("p",null,c(s.price.valorTotalFinanciamento),1)])]),t("div",mt,[t("div",ft,[gt,t("p",null,c(s.price.valorTotalJuros),1)])])])])])])):g("",!0),s.sac?(d(),u("div",yt,[t("div",bt,[t("div",Vt,[t("div",Pt,[xt,t("div",Ft,[t("button",{class:"button is-danger has-right-icon is-small",onClick:e[6]||(e[6]=(...a)=>i.resetValues&&i.resetValues(...a))},St)])])]),t("div",Bt,[t("div",Lt,[t("div",Mt,[t("div",zt,[Tt,t("p",null,c(s.sac.valorTotalFinanciamento),1)])]),t("div",kt,[t("div",qt,[At,t("p",null,c(s.sac.valorTotalJuros),1)])])]),t("table",Jt,[wt,Ct,t("tbody",null,[(d(!0),u(P,null,x(s.sac.prestacoes,a=>(d(),u("tr",{key:a.index},[t("th",null,c(a.index),1),t("td",null,c(a.amortization),1),t("td",null,c(a.interestRateBalance),1),t("td",null,c(a.portion),1),t("td",null,c(a.valuePaid),1),t("td",null,c(a.balance),1)]))),128))])])])])])):g("",!0)]),Dt])])}var Nt=z(T,[["render",It],["__scopeId","data-v-49dc1113"]]);const Ot={setup(l){return(e,n)=>(d(),B(Nt))}};L(Ot).mount("#app");
