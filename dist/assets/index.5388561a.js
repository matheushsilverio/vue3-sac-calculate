import{o as u,c as _,a as t,w as v,v as m,n as f,b as x,t as n,F as y,r as b,d as P,e as B,p as S,f as F,g as V,h as L,i as M}from"./vendor.0b1a22e7.js";const z=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const e of l.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&c(e)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}};z();class R{constructor(a,r,c){this.presentValue=a,this.interestedRate=r,this.periods=c,this.amortization=0,this.provisionFinancing=[]}formatarDados(){this.presentValue=parseInt(this.presentValue),this.interestedRate=parseFloat(this.interestedRate)/100,this.periods=parseInt(this.periods)}calculaAmortizacao(){return this.amortization=this.presentValue/this.periods,this.amortization}formataMascara(a,r){let c={minimumFractionDigits:2,style:"currency",currency:a};return r.toLocaleString("pt-BR",c)}financiarPrice(){let a=this.presentValue*(Math.pow(1+this.interestedRate,this.periods)*this.interestedRate)/(Math.pow(1+this.interestedRate,this.periods)-1);this.provisionFinancing.push(a);const r=this.formataMascara("BRL",this.provisionFinancing[0]),c=a*this.periods,s=c-this.presentValue;let l=0,e=this.presentValue,h=[];for(let d=1;d<=this.periods;d++){const p=e*this.interestedRate,g=a-e*this.interestedRate;l=a*d,h.push({index:d,amortization:this.formataMascara("BRL",g),interestRateBalance:this.formataMascara("BRL",p),portion:this.formataMascara("BRL",a),valuePaid:this.formataMascara("BRL",l),balance:this.formataMascara("BRL",e)}),e-=g}return{valorPrestacao:r,prestacoes:h,valorTotalFinanciamento:this.formataMascara("BRL",c),valorTotalJuros:this.formataMascara("BRL",s)}}financiarSac(){this.calculaAmortizacao();let a=0,r=0,c=this.presentValue,s=[];for(let h=1;h<=this.periods;h++){const d=(this.periods-h+1)*this.amortization*this.interestedRate,p=this.amortization+d;c-=this.amortization,a+=p,r+=d,s.push({index:h,amortization:this.formataMascara("BRL",this.amortization),interestRateBalance:this.formataMascara("BRL",d),portion:this.formataMascara("BRL",p),valuePaid:this.formataMascara("BRL",a),balance:this.formataMascara("BRL",c)})}const l=this.formataMascara("BRL",a),e=this.formataMascara("BRL",r);return{prestacoes:s,valorTotalFinanciamento:l,valorTotalJuros:e}}}var k=(o,a)=>{const r=o.__vccOpts||o;for(const[c,s]of a)r[c]=s;return r};const T={data(){return{type:null,taxa:null,totalValue:null,qtdPeriod:null,sac:null,price:null,validators:{}}},methods:{handleSac(){const o=new R(this.totalValue,this.taxa,this.qtdPeriod);o.formatarDados(),this.sac=o.financiarSac()},handlePrice(){const o=new R(this.totalValue,this.taxa,this.qtdPeriod);o.formatarDados(),this.price=o.financiarPrice()},handleFinancing(){!this.validate()||(this.type==="sac"?this.handleSac():this.type==="price"&&this.handlePrice())},validate(){return this.validators={},this.type||(this.validators.type=!0),this.taxa||(this.validators.taxa=!0),this.totalValue||(this.validators.value=!0),this.qtdPeriod||(this.validators.periods=!0),Object.keys(this.validators).length===0},resetPrice(){this.price=null,this.taxa=null,this.totalValue=null,this.qtdPeriod=null},resetSac(){this.sac=null,this.taxa=null,this.totalValue=null,this.qtdPeriod=null},formatValue(o){return`R$ ${o.toFixed(2).replace(".",",")}`}}},i=o=>(S("data-v-62dff410"),o=o(),F(),o),A={class:"alignment"},J={class:"container"},q=B('<div class="level" data-v-62dff410><div class="level-left" data-v-62dff410><h1 class="title is-4" data-v-62dff410>Simula\xE7\xE3o de Financiamento</h1></div><div class="level-right" data-v-62dff410><div class="align-icons-external" data-v-62dff410><a href="https://github.com/matheushsilverio/vue3-sac-calculate" target="_blank" data-v-62dff410><span class="icon" data-v-62dff410><i class="fab fa-github" data-v-62dff410></i></span></a></div></div></div>',1),D={class:"columns is-multiline"},w={class:"column is-full"},C={class:"card"},I=i(()=>t("div",{class:"card-title"},[t("h2",null,"C\xE1lculo do financiamento")],-1)),N={class:"card-body"},O={class:"field"},j=i(()=>t("label",{for:"sac-input-total-value"},"Valor total do financiamento",-1)),U={class:"field"},E=i(()=>t("label",{for:"sac-input-qtd-period"},"Quantidade de per\xEDodos",-1)),K={class:"field"},Q=i(()=>t("label",{for:"sac-input-juros"},"Taxa de Juros (%)",-1)),W={class:"control has-icons-right"},G=i(()=>t("span",{class:"icon is-right"},[t("i",{class:"fas fa-percentage"})],-1)),H={class:"field"},X=i(()=>t("label",{for:""},"Tipo de Simula\xE7\xE3o",-1)),Y={class:"control control-select"},Z=i(()=>t("option",{value:"sac"},"SAC",-1)),$=i(()=>t("option",{value:"price"},"Price",-1)),tt=[Z,$],st={key:0,class:"column is-full"},et={class:"card"},at={class:"card-title"},lt={class:"level"},it=i(()=>t("div",{class:"level-left"},[t("h2",null,"Price")],-1)),ot={class:"level-right"},nt=i(()=>t("span",{class:"icon"},[t("i",{class:"fas fa-times"})],-1)),rt=[nt],ct={class:"card-body"},dt={class:"columns is-multiline"},ut={class:"column is-full"},ht={class:"currency-detail"},_t=i(()=>t("label",null,"Valor da Presta\xE7\xE3o",-1)),pt={class:"column is-full"},vt={class:"currency-detail"},ft=i(()=>t("label",null,"Valor total do Financiamento",-1)),mt={class:"column is-full"},gt={class:"currency-detail"},yt=i(()=>t("label",null,"Valor total de Juros pago",-1)),bt={class:"table"},Pt=i(()=>t("thead",null,[t("tr",null,[t("th",null,"Per\xEDodo"),t("th",null,"Amortiza\xE7\xE3o"),t("th",null,"Juros"),t("th",null,"Presta\xE7\xE3o"),t("th",null,"Valor Pago"),t("th",null,"Saldo Devedor")])],-1)),Vt=i(()=>t("tfoot",null,[t("tr",null,[t("th",null,"Per\xEDodo"),t("th",null,"Amortiza\xE7\xE3o"),t("th",null,"Juros"),t("th",null,"Presta\xE7\xE3o"),t("th",null,"Valor Pago"),t("th",null,"Saldo Devedor")])],-1)),Rt={key:1,class:"column is-full"},xt={class:"card"},Bt={class:"card-title"},St={class:"level"},Ft=i(()=>t("div",{class:"level-left"},[t("h2",null,"SAC - Sistema de Amortiza\xE7\xF5es Constantes")],-1)),Lt={class:"level-right"},Mt=i(()=>t("span",{class:"icon"},[t("i",{class:"fas fa-times"})],-1)),zt=[Mt],kt={class:"card-body"},Tt={class:"columns is-multiline"},At={class:"column is-full"},Jt={class:"currency-detail"},qt=i(()=>t("label",null,"Valor total do Financiamento",-1)),Dt={class:"column is-full"},wt={class:"currency-detail"},Ct=i(()=>t("label",null,"Valor total de Juros pago",-1)),It={class:"table"},Nt=i(()=>t("thead",null,[t("tr",null,[t("th",null,"Per\xEDodo"),t("th",null,"Amortiza\xE7\xE3o"),t("th",null,"Juros"),t("th",null,"Presta\xE7\xE3o"),t("th",null,"Valor Pago"),t("th",null,"Saldo Devedor")])],-1)),Ot=i(()=>t("tfoot",null,[t("tr",null,[t("th",null,"Per\xEDodo"),t("th",null,"Amortiza\xE7\xE3o"),t("th",null,"Juros"),t("th",null,"Presta\xE7\xE3o"),t("th",null,"Valor Pago"),t("th",null,"Saldo Devedor")])],-1)),jt=i(()=>t("div",{class:"column is-full"},[t("div",{class:"credits"},[V(" 2021. Desenvolvido por "),t("a",{href:"https://github.com/matheushsilverio"},"@matheushsilverio"),V(" e "),t("a",{href:"https://github.com/vinige"},"@vinige")])],-1));function Ut(o,a,r,c,s,l){return u(),_("div",A,[t("div",J,[q,t("div",D,[t("div",w,[t("div",C,[I,t("div",N,[t("div",O,[j,v(t("input",{id:"sac-input-total-value","onUpdate:modelValue":a[0]||(a[0]=e=>s.totalValue=e),class:f(["input",{"is-danger":s.validators.value}]),type:"text",placeholder:"ex: 1000"},null,2),[[m,s.totalValue]])]),t("div",U,[E,v(t("input",{id:"sac-input-qtd-period","onUpdate:modelValue":a[1]||(a[1]=e=>s.qtdPeriod=e),class:f(["input",{"is-danger":s.validators.periods}]),type:"number",placeholder:"ex: 12"},null,2),[[m,s.qtdPeriod]])]),t("div",K,[Q,t("div",W,[v(t("input",{id:"sac-input-juros","onUpdate:modelValue":a[2]||(a[2]=e=>s.taxa=e),class:f(["input",{"is-danger":s.validators.taxa}]),type:"number",placeholder:"ex: 2"},null,2),[[m,s.taxa]]),G])]),t("div",H,[X,t("div",Y,[t("div",{class:f(["select",{"is-danger":s.validators.type}])},[v(t("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>s.type=e)},tt,512),[[x,s.type]])],2)])]),t("button",{class:"button is-success is-fullwidth",onClick:a[4]||(a[4]=(...e)=>l.handleFinancing&&l.handleFinancing(...e))}," Simular Financiamento ")])])]),s.price?(u(),_("div",st,[t("div",et,[t("div",at,[t("div",lt,[it,t("div",ot,[t("button",{class:"button is-danger has-right-icon is-small",onClick:a[5]||(a[5]=(...e)=>l.resetPrice&&l.resetPrice(...e))},rt)])])]),t("div",ct,[t("div",dt,[t("div",ut,[t("div",ht,[_t,t("p",null,n(s.price.valorPrestacao),1)])]),t("div",pt,[t("div",vt,[ft,t("p",null,n(s.price.valorTotalFinanciamento),1)])]),t("div",mt,[t("div",gt,[yt,t("p",null,n(s.price.valorTotalJuros),1)])])]),t("table",bt,[Pt,Vt,t("tbody",null,[(u(!0),_(y,null,b(s.price.prestacoes,e=>(u(),_("tr",{key:e.index},[t("th",null,n(e.index),1),t("td",null,n(e.amortization),1),t("td",null,n(e.interestRateBalance),1),t("td",null,n(e.portion),1),t("td",null,n(e.valuePaid),1),t("td",null,n(e.balance),1)]))),128))])])])])])):P("",!0),s.sac?(u(),_("div",Rt,[t("div",xt,[t("div",Bt,[t("div",St,[Ft,t("div",Lt,[t("button",{class:"button is-danger has-right-icon is-small",onClick:a[6]||(a[6]=(...e)=>l.resetSac&&l.resetSac(...e))},zt)])])]),t("div",kt,[t("div",Tt,[t("div",At,[t("div",Jt,[qt,t("p",null,n(s.sac.valorTotalFinanciamento),1)])]),t("div",Dt,[t("div",wt,[Ct,t("p",null,n(s.sac.valorTotalJuros),1)])])]),t("table",It,[Nt,Ot,t("tbody",null,[(u(!0),_(y,null,b(s.sac.prestacoes,e=>(u(),_("tr",{key:e.index},[t("th",null,n(e.index),1),t("td",null,n(e.amortization),1),t("td",null,n(e.interestRateBalance),1),t("td",null,n(e.portion),1),t("td",null,n(e.valuePaid),1),t("td",null,n(e.balance),1)]))),128))])])])])])):P("",!0)]),jt])])}var Et=k(T,[["render",Ut],["__scopeId","data-v-62dff410"]]);const Kt={setup(o){return(a,r)=>(u(),L(Et))}};M(Kt).mount("#app");
